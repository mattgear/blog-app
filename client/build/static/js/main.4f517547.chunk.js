(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{29:function(e,a,t){e.exports=t(59)},34:function(e,a,t){},35:function(e,a,t){},58:function(e,a,t){},59:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(27),s=t.n(l),o=(t(34),t(8)),c=(t(35),t(11)),m=t(1),i=t(12),u=t.n(i);var d=Object(m.f)((function(e){return n.a.createElement("nav",{class:"navbar navbar-dark bg-primary"},n.a.createElement("div",{className:"row col-12 d-flex justify-content-center text-white"},n.a.createElement("span",{className:"registerText",onClick:function(){e.history.push("/register")}},"Register")),n.a.createElement("div",{className:"row col-12 d-flex justify-content-center text-white"},n.a.createElement("span",{className:"loginText",onClick:function(){e.history.push("/login")}},"Login")))})),p=t(10),h=t(7);var f=Object(m.f)((function(e){var a=Object(r.useState)({name:"",email:"",password:"",confirmPassword:""}),t=Object(o.a)(a,2),l=t[0],s=t[1],c=function(e){var a=e.target,t=a.id,r=a.value;s((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(p.a)({},t,r))}))},m=function(){if(l.email.length&&l.password.length){var a={name:l.name,email:l.email,password:l.password,confirmPassword:l.confirmPassword};u.a.post("http://localhost:3000/auth/register",a).then((function(a){200===a.status?(s((function(e){return Object(h.a)(Object(h.a)({},e),{},{successMessage:"Registration successful. Redirecting to home page.."})})),localStorage.setItem("",a.data.token),i(),e.showError(null)):e.showError("some error occurred")})).catch((function(e){console.log(e)}))}else e.showError("Please enter valid username and password")},i=function(){e.updateTitle("Home"),e.history.push("/home")};return n.a.createElement("div",{className:"card col-12 col-lg-4 login-card mt-2 hv-center"},n.a.createElement("form",null,n.a.createElement("div",{className:"form-group text-left"},n.a.createElement("label",{htmlFor:"exampleInputName1"},"Name"),n.a.createElement("input",{type:"text",className:"form-control",id:"name",placeholder:"Enter name",value:l.name,onChange:c})),n.a.createElement("div",{className:"form-group text-left"},n.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email Address"),n.a.createElement("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:l.email,onChange:c}),n.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),n.a.createElement("div",{className:"form-group text-left"},n.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),n.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",value:l.password,onChange:c})),n.a.createElement("div",{className:"form-group text-left"},n.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Confirm Password"),n.a.createElement("input",{type:"password",className:"form-control",id:"confirmPassword",placeholder:"Confirm Password",value:l.confirmPassword,onChange:c})),n.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(a){a.preventDefault(),l.password===l.confirmPassword?m():e.showError("Passwords do not match")}},"Register")),n.a.createElement("div",{className:"alert alert-success mt-2",style:{display:l.successMessage?"block":"none"},role:"alert"},l.successMessage),n.a.createElement("div",{className:"mt-2"},n.a.createElement("span",null,"Already have an account?"),n.a.createElement("span",{className:"loginText",onClick:function(){return e.updateTitle("Login"),void e.history.push("/login")}},"Login")))}));var E=Object(m.f)((function(e){var a=Object(r.useState)({email:"",password:"",successMessage:null}),t=Object(o.a)(a,2),l=t[0],s=t[1],c=function(e){var a=e.target,t=a.id,r=a.value;s((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(p.a)({},t,r))}))},m=function(){e.updateTitle("Home"),e.history.push("/home")};return n.a.createElement("div",{className:"card col-12 col-lg-4 login-card mt-2 hv-center"},n.a.createElement("form",null,n.a.createElement("div",{className:"form-group text-left"},n.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email Address"),n.a.createElement("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:l.email,onChange:c}),n.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),n.a.createElement("div",{className:"form-group text-left"},n.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),n.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",value:l.password,onChange:c})),n.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(a){a.preventDefault();var t={email:l.email,password:l.password};u.a.post("http://localhost:3000/auth/login",t).then((function(a){200===a.status?(s((function(e){return Object(h.a)(Object(h.a)({},e),{},{successMessage:"Login successful. Redirecting to homepage..."})})),localStorage.setItem("",a.data.token),m(),e.showError(null)):204===a.status?e.showError("Username and Password do not match"):e.showError("Username does not exist")})).catch((function(e){console.log(e)}))}},"Login")),n.a.createElement("div",{className:"alert alert-success mt-2",style:{display:l.successMessage?"block":"none"},role:"alert"},l.successMessage),n.a.createElement("div",{className:"registerMessage"},n.a.createElement("span",null,"Dont have an account?"),n.a.createElement("span",{className:"loginText",onClick:function(){return e.history.push("/register"),void e.updateTitle("Register")}},"Register")))}));var g=function(e){return n.a.createElement("div",{className:"mt-2"},"Home page content")};t(58);var v=function(e){var a=Object(r.useState)("none"),t=Object(o.a)(a,2),l=t[0],s=t[1],c=function(){s("none"),e.hideError(null)};return Object(r.useEffect)((function(){null!==e.errorMessage?s("block"):c()})),n.a.createElement("div",{className:"alert alert-danger alert-dismissable mt-4",role:"alert",id:"alertPopUp",style:{display:l}},n.a.createElement("div",{className:"d-flex alertMessage"},n.a.createElement("span",null,e.errorMessage),n.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return c()}},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))))};var w=function(){var e=Object(r.useState)(null),a=Object(o.a)(e,2),t=a[0],l=a[1],s=Object(r.useState)(null),i=Object(o.a)(s,2),u=i[0],p=i[1];return n.a.createElement(c.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(d,{title:t}),n.a.createElement("div",{className:"container d-flex align-items-center flex-column"},n.a.createElement(m.c,null,n.a.createElement(m.a,{path:"/",exact:!0},n.a.createElement(g,null)),n.a.createElement(m.a,{path:"/register",exact:!0},n.a.createElement(f,{showError:p,updateTitle:l})),n.a.createElement(m.a,{path:"/login",exact:!0},n.a.createElement(E,{showError:p,updateTitle:l})),n.a.createElement(m.a,{path:"/home",exact:!0},n.a.createElement(g,null))),n.a.createElement(v,{errorMessage:u,hideError:p}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.4f517547.chunk.js.map